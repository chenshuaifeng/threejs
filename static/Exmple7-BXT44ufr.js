import{B as h2,M as j,V as O,G as W,b as I,c as g2,P as b2,W as y2,A as x2,D as C2,b0 as v2,C as A2,g as M2,u as N,v as k,T as S2,R as L2,S as _2,Y as B2,n as R2,j as T2}from"./three.module-B48SNEox.js";import{d as P2}from"./dat.gui.module-DqesmVVB.js";import{_ as z2}from"./index-HC9wGKDV.js";import{O as F2}from"./OrbitControls-BQkA2Aq0.js";import{r as u2,d as E2,m as G2,p as k2,q as V2}from"./vue-SvvCd1mE.js";import"./element-C1lpoOYO.js";import"./vxe-YBxjpzKi.js";class D2 extends h2{constructor(v=50,n=10,g=!0,d=!0,h=!0,b=!0,V=!0){const e2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,3,16,17,18,7,19,20,21,11,22,23,24,15,25,26,27,18,28,29,30,21,31,32,33,24,34,35,36,27,37,38,39,30,40,41,0,33,42,43,4,36,44,45,8,39,46,47,12,12,13,14,15,48,49,50,51,52,53,54,55,56,57,58,59,15,25,26,27,51,60,61,62,55,63,64,65,59,66,67,68,27,37,38,39,62,69,70,71,65,72,73,74,68,75,76,77,39,46,47,12,71,78,79,48,74,80,81,52,77,82,83,56,56,57,58,59,84,85,86,87,88,89,90,91,92,93,94,95,59,66,67,68,87,96,97,98,91,99,100,101,95,102,103,104,68,75,76,77,98,105,106,107,101,108,109,110,104,111,112,113,77,82,83,56,107,114,115,84,110,116,117,88,113,118,119,92,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,123,136,137,120,127,138,139,124,131,140,141,128,135,142,143,132,132,133,134,135,144,145,146,147,148,149,150,151,68,152,153,154,135,142,143,132,147,155,156,144,151,157,158,148,154,159,160,68,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,164,177,178,161,168,179,180,165,172,181,182,169,176,183,184,173,173,174,175,176,185,186,187,188,189,190,191,192,193,194,195,196,176,183,184,173,188,197,198,185,192,199,200,189,196,201,202,193,203,203,203,203,204,205,206,207,208,208,208,208,209,210,211,212,203,203,203,203,207,213,214,215,208,208,208,208,212,216,217,218,203,203,203,203,215,219,220,221,208,208,208,208,218,222,223,224,203,203,203,203,221,225,226,204,208,208,208,208,224,227,228,209,209,210,211,212,229,230,231,232,233,234,235,236,237,238,239,240,212,216,217,218,232,241,242,243,236,244,245,246,240,247,248,249,218,222,223,224,243,250,251,252,246,253,254,255,249,256,257,258,224,227,228,209,252,259,260,229,255,261,262,233,258,263,264,237,265,265,265,265,266,267,268,269,270,271,272,273,92,119,118,113,265,265,265,265,269,274,275,276,273,277,278,279,113,112,111,104,265,265,265,265,276,280,281,282,279,283,284,285,104,103,102,95,265,265,265,265,282,286,287,266,285,288,289,270,95,94,93,92],D=[1.4,0,2.4,1.4,-.784,2.4,.784,-1.4,2.4,0,-1.4,2.4,1.3375,0,2.53125,1.3375,-.749,2.53125,.749,-1.3375,2.53125,0,-1.3375,2.53125,1.4375,0,2.53125,1.4375,-.805,2.53125,.805,-1.4375,2.53125,0,-1.4375,2.53125,1.5,0,2.4,1.5,-.84,2.4,.84,-1.5,2.4,0,-1.5,2.4,-.784,-1.4,2.4,-1.4,-.784,2.4,-1.4,0,2.4,-.749,-1.3375,2.53125,-1.3375,-.749,2.53125,-1.3375,0,2.53125,-.805,-1.4375,2.53125,-1.4375,-.805,2.53125,-1.4375,0,2.53125,-.84,-1.5,2.4,-1.5,-.84,2.4,-1.5,0,2.4,-1.4,.784,2.4,-.784,1.4,2.4,0,1.4,2.4,-1.3375,.749,2.53125,-.749,1.3375,2.53125,0,1.3375,2.53125,-1.4375,.805,2.53125,-.805,1.4375,2.53125,0,1.4375,2.53125,-1.5,.84,2.4,-.84,1.5,2.4,0,1.5,2.4,.784,1.4,2.4,1.4,.784,2.4,.749,1.3375,2.53125,1.3375,.749,2.53125,.805,1.4375,2.53125,1.4375,.805,2.53125,.84,1.5,2.4,1.5,.84,2.4,1.75,0,1.875,1.75,-.98,1.875,.98,-1.75,1.875,0,-1.75,1.875,2,0,1.35,2,-1.12,1.35,1.12,-2,1.35,0,-2,1.35,2,0,.9,2,-1.12,.9,1.12,-2,.9,0,-2,.9,-.98,-1.75,1.875,-1.75,-.98,1.875,-1.75,0,1.875,-1.12,-2,1.35,-2,-1.12,1.35,-2,0,1.35,-1.12,-2,.9,-2,-1.12,.9,-2,0,.9,-1.75,.98,1.875,-.98,1.75,1.875,0,1.75,1.875,-2,1.12,1.35,-1.12,2,1.35,0,2,1.35,-2,1.12,.9,-1.12,2,.9,0,2,.9,.98,1.75,1.875,1.75,.98,1.875,1.12,2,1.35,2,1.12,1.35,1.12,2,.9,2,1.12,.9,2,0,.45,2,-1.12,.45,1.12,-2,.45,0,-2,.45,1.5,0,.225,1.5,-.84,.225,.84,-1.5,.225,0,-1.5,.225,1.5,0,.15,1.5,-.84,.15,.84,-1.5,.15,0,-1.5,.15,-1.12,-2,.45,-2,-1.12,.45,-2,0,.45,-.84,-1.5,.225,-1.5,-.84,.225,-1.5,0,.225,-.84,-1.5,.15,-1.5,-.84,.15,-1.5,0,.15,-2,1.12,.45,-1.12,2,.45,0,2,.45,-1.5,.84,.225,-.84,1.5,.225,0,1.5,.225,-1.5,.84,.15,-.84,1.5,.15,0,1.5,.15,1.12,2,.45,2,1.12,.45,.84,1.5,.225,1.5,.84,.225,.84,1.5,.15,1.5,.84,.15,-1.6,0,2.025,-1.6,-.3,2.025,-1.5,-.3,2.25,-1.5,0,2.25,-2.3,0,2.025,-2.3,-.3,2.025,-2.5,-.3,2.25,-2.5,0,2.25,-2.7,0,2.025,-2.7,-.3,2.025,-3,-.3,2.25,-3,0,2.25,-2.7,0,1.8,-2.7,-.3,1.8,-3,-.3,1.8,-3,0,1.8,-1.5,.3,2.25,-1.6,.3,2.025,-2.5,.3,2.25,-2.3,.3,2.025,-3,.3,2.25,-2.7,.3,2.025,-3,.3,1.8,-2.7,.3,1.8,-2.7,0,1.575,-2.7,-.3,1.575,-3,-.3,1.35,-3,0,1.35,-2.5,0,1.125,-2.5,-.3,1.125,-2.65,-.3,.9375,-2.65,0,.9375,-2,-.3,.9,-1.9,-.3,.6,-1.9,0,.6,-3,.3,1.35,-2.7,.3,1.575,-2.65,.3,.9375,-2.5,.3,1.125,-1.9,.3,.6,-2,.3,.9,1.7,0,1.425,1.7,-.66,1.425,1.7,-.66,.6,1.7,0,.6,2.6,0,1.425,2.6,-.66,1.425,3.1,-.66,.825,3.1,0,.825,2.3,0,2.1,2.3,-.25,2.1,2.4,-.25,2.025,2.4,0,2.025,2.7,0,2.4,2.7,-.25,2.4,3.3,-.25,2.4,3.3,0,2.4,1.7,.66,.6,1.7,.66,1.425,3.1,.66,.825,2.6,.66,1.425,2.4,.25,2.025,2.3,.25,2.1,3.3,.25,2.4,2.7,.25,2.4,2.8,0,2.475,2.8,-.25,2.475,3.525,-.25,2.49375,3.525,0,2.49375,2.9,0,2.475,2.9,-.15,2.475,3.45,-.15,2.5125,3.45,0,2.5125,2.8,0,2.4,2.8,-.15,2.4,3.2,-.15,2.4,3.2,0,2.4,3.525,.25,2.49375,2.8,.25,2.475,3.45,.15,2.5125,2.9,.15,2.475,3.2,.15,2.4,2.8,.15,2.4,0,0,3.15,.8,0,3.15,.8,-.45,3.15,.45,-.8,3.15,0,-.8,3.15,0,0,2.85,.2,0,2.7,.2,-.112,2.7,.112,-.2,2.7,0,-.2,2.7,-.45,-.8,3.15,-.8,-.45,3.15,-.8,0,3.15,-.112,-.2,2.7,-.2,-.112,2.7,-.2,0,2.7,-.8,.45,3.15,-.45,.8,3.15,0,.8,3.15,-.2,.112,2.7,-.112,.2,2.7,0,.2,2.7,.45,.8,3.15,.8,.45,3.15,.112,.2,2.7,.2,.112,2.7,.4,0,2.55,.4,-.224,2.55,.224,-.4,2.55,0,-.4,2.55,1.3,0,2.55,1.3,-.728,2.55,.728,-1.3,2.55,0,-1.3,2.55,1.3,0,2.4,1.3,-.728,2.4,.728,-1.3,2.4,0,-1.3,2.4,-.224,-.4,2.55,-.4,-.224,2.55,-.4,0,2.55,-.728,-1.3,2.55,-1.3,-.728,2.55,-1.3,0,2.55,-.728,-1.3,2.4,-1.3,-.728,2.4,-1.3,0,2.4,-.4,.224,2.55,-.224,.4,2.55,0,.4,2.55,-1.3,.728,2.55,-.728,1.3,2.55,0,1.3,2.55,-1.3,.728,2.4,-.728,1.3,2.4,0,1.3,2.4,.224,.4,2.55,.4,.224,2.55,.728,1.3,2.55,1.3,.728,2.55,.728,1.3,2.4,1.3,.728,2.4,0,0,0,1.425,0,0,1.425,.798,0,.798,1.425,0,0,1.425,0,1.5,0,.075,1.5,.84,.075,.84,1.5,.075,0,1.5,.075,-.798,1.425,0,-1.425,.798,0,-1.425,0,0,-.84,1.5,.075,-1.5,.84,.075,-1.5,0,.075,-1.425,-.798,0,-.798,-1.425,0,0,-1.425,0,-1.5,-.84,.075,-.84,-1.5,.075,0,-1.5,.075,.798,-1.425,0,1.425,-.798,0,.84,-1.5,.075,1.5,-.84,.075];super(),n=Math.max(2,Math.floor(n));const S=1.3,L=3.15*(V?1:S)/2,_=v/L;let B=g?(8*n-4)*n:0;B+=d?(16*n-4)*n:0,B+=h?40*n*n:0;const p=new Uint32Array(B*3);let c=g?4:0;c+=d?8:0,c+=h?20:0,c*=(n+1)*(n+1);const t=new Float32Array(c*3),e=new Float32Array(c*3),z=new Float32Array(c*2),f=new j;f.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);const o=[],R=[],H=[],T=[],y=[],A=[],m=[],F=[],i=[],C=new O;let x,q,Y,w,J=0,K=0;const E=new O,t2=new j,n2=new j,Q=new W,X=new W,o2=new W,r2=new W,a2=new O,s2=new O,i2=f.clone();i2.transpose();const l2=(s,r,a)=>!(t[s*3]===t[r*3]&&t[s*3+1]===t[r*3+1]&&t[s*3+2]===t[r*3+2]||t[s*3]===t[a*3]&&t[s*3+1]===t[a*3+1]&&t[s*3+2]===t[a*3+2]||t[r*3]===t[a*3]&&t[r*3+1]===t[a*3+1]&&t[r*3+2]===t[a*3+2]);for(let s=0;s<3;s++)A[s]=new j;const m2=h?0:20,w2=g?32:28,G=n+1;let c2=0,Z=0,$=0,d2=0,P=0;for(let s=m2;s<w2;s++)if(d||s<20||s>=28){for(let r=0;r<3;r++){for(let a=0;a<4;a++)for(let l=0;l<4;l++)o[l*4+a]=D[e2[s*16+a*4+l]*3+r],b&&s>=20&&s<28&&r!==2&&(o[l*4+a]*=1.077),!V&&r===2&&(o[l*4+a]*=S);t2.set(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15]),n2.multiplyMatrices(t2,f),A[r].multiplyMatrices(i2,n2)}for(let r=0;r<=n;r++){const a=r/n;for(let l=0;l<=n;l++){const M=l/n;for(w=4,q=Y=1;w--;)R[w]=q,H[w]=Y,q*=a,Y*=M,w===3?(T[w]=y[w]=0,J=K=1):(T[w]=J*(3-w),y[w]=K*(3-w),J*=a,K*=M);Q.fromArray(R),X.fromArray(H),o2.fromArray(T),r2.fromArray(y);for(let u=0;u<3;u++)x=Q.clone(),x.applyMatrix4(A[u]),m[u]=x.dot(X),x=o2.clone(),x.applyMatrix4(A[u]),F[u]=x.dot(X),x=Q.clone(),x.applyMatrix4(A[u]),i[u]=x.dot(r2);a2.fromArray(F),s2.fromArray(i),C.crossVectors(s2,a2),C.normalize(),m[0]===0&&m[1]===0?E.set(0,m[2]>L?1:-1,0):E.set(C.x,C.z,-C.y),t[Z++]=_*m[0],t[Z++]=_*(m[2]-L),t[Z++]=-_*m[1],e[$++]=E.x,e[$++]=E.y,e[$++]=E.z,z[d2++]=1-M,z[d2++]=1-a}}for(let r=0;r<n;r++)for(let a=0;a<n;a++){const l=c2*G*G+r*G+a,M=l+1,u=M+G,p2=l+G;l2(l,M,u)&&(p[P++]=l,p[P++]=M,p[P++]=u),l2(l,u,p2)&&(p[P++]=l,p[P++]=u,p[P++]=p2)}c2++}this.setIndex(new I(p,1)),this.setAttribute("position",new I(t,3)),this.setAttribute("normal",new I(e,3)),this.setAttribute("uv",new I(z,2)),this.computeBoundingSphere()}}const H2=300,j2="texture/exmple1/",O2=Object.assign({name:"Exmple7"},{__name:"Exmple7",setup(f2){let v=0,n=0,g;const d=new g2,h=new b2(45,window.innerWidth/window.innerHeight,1,8e4);h.position.set(-600,550,1300);const b=new y2({antialias:!0});b.setPixelRatio(window.devicePixelRatio);const V=()=>b.render(d,h);new F2(h,b.domElement).addEventListener("change",()=>{V()});let D,S,U,L,_,B,p,c={},t,e={newTess:15,bottom:!0,lid:!0,body:!0,fitLid:!1,nonblinn:!1,newShading:"glossy"};const z=()=>{const i=new P2.GUI;return i.add(e,"newTess",[2,3,4,5,6,8,10,15,20,30,40,50]).name("Tessellation Level").onChange(f),i.add(e,"lid").name("display lid").onChange(f),i.add(e,"body").name("display body").onChange(f),i.add(e,"bottom").name("display bottom").onChange(f),i.add(e,"fitLid").name("snug lid").onChange(f),i.add(e,"nonblinn").name("original scale").onChange(f),i.add(e,"newShading",["wireframe","flat","smooth","glossy","textured","reflective"]).name("Shading").onChange(f),i},f=()=>{(e.newTess!==S||e.bottom!==D||e.lid!==U||e.body!==L||e.fitLid!==_||e.nonblinn!==B||e.newShading!==t)&&(S=e.newTess,D=e.bottom,U=e.lid,L=e.body,_=e.fitLid,B=e.nonblinn,t=e.newShading,A(),t==="reflective"?d.background=T:d.background=null,b.render(d,h))},o=new x2(8158332,3),R=new C2(16777215,3);R.position.set(.32,.39,.7),new v2(R),d.background=new A2(11184810),d.add(o),d.add(R);const H=["px.png","nx.png","py.png","ny.png","pz.png","nz.png"],T=new M2().setPath(j2).load(H);c.reflective=new N({envMap:T,side:k});const y=new S2().load("texture/exmple7/uv_grid_opengl.jpg");y.wrapS=y.wrapT=L2,y.anisotropy=16,y.colorSpace=_2,c.wireframe=new B2({wireframe:!0}),c.flat=new N({specular:0,flatShading:!0,side:k}),c.smooth=new R2({side:k}),c.glossy=new N({side:k}),c.textured=new N({map:y,side:k});const A=()=>{p!==void 0&&(p.geometry.dispose(),d.remove(p));const i=new D2(H2,S,e.bottom,e.lid,e.body,e.fitLid,!e.nonblinn),C=c[t];p=new T2(i,C),d.add(p)},m=u2(),F=u2();return window.addEventListener("resize",()=>{v=g.width,n=g.height,h.aspect=v/n,b.setSize(v,n),h.updateProjectionMatrix()}),E2(()=>{var i;g=m.value.getBoundingClientRect(),v=g.width,n=g.height,b.setSize(v,n),f(),m.value.appendChild(b.domElement),(i=F.value)==null||i.appendChild(z().domElement)}),(i,C)=>(G2(),k2("div",{ref_key:"sceneRef",ref:m,class:"right-box"},[V2("div",{ref_key:"guiRef",ref:F,id:"gui",class:"gui-box"},null,512)],512))}}),K2=z2(O2,[["__scopeId","data-v-ea8f0834"]]);export{K2 as default};
